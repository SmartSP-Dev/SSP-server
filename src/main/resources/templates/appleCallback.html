<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Apple ๋ก๊ทธ์ธ ์ฒ๋ฆฌ ์ค...</title>
</head>
<body>
<h2>๐ Apple ๋ก๊ทธ์ธ ์ฒ๋ฆฌ ์ค์๋๋ค...</h2>

<script th:inline="javascript">
    const code = /*[[${authCode}]]*/ "";

    fetch("/auth/login/apple", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({ code })
    })
        .then(res => res.json())
        .then(data => {
            console.log("๋ก๊ทธ์ธ ์ฑ๊ณต!", data);
            alert("๋ก๊ทธ์ธ ์ฑ๊ณต! ์ฝ์ ํ์ธ");
        })
        .catch(err => {
            console.error("๋ก๊ทธ์ธ ์คํจ", err);
            alert("๋ก๊ทธ์ธ ์คํจ!");
        });
</script>
</body>
</html>
